<!DOCTYPE html>
<html>
<body>

<p id="demo"></p>

<script>
const x = document.getElementById("demo")
const ref_voice = [ "121_121726_000000_000000,121726",
                    "121_121726_000004_000003,121726",
                    "121_121726_000005_000001,121726",
                    "121_121726_000007_000003,121726",
                    "121_121726_000008_000002,121726",
                    "1221_135766_000015_000000,135766",
                    "1221_135766_000025_000001,121726",
                    "1221_135766_000026_000000,121726",
                    "1221_135766_000026_000005,121726",
                    "1221_135766_000027_000002,121726",
                    "6930_75918_000000_000001,75918",
                    "6930_75918_000001_000000,75918",
                    "6930_75918_000004_000000,75918",
                    "6930_75918_000017_000000,75918",
                    "6930_75918_000050_000001,75918",
                    "8230_279154_000001_000001,279154",
                    "8230_279154_000002_000000,279154",
                    "8230_279154_000004_000003,279154",
                    "8230_279154_000004_000004,279154",
                    "8230_279154_000008_000001,279154"
                    
                ]
const methods = [   "with no adaptor (clean-100),tts_ref_no_speakers",
                    "with mel-style adaptor (clean-100),tts_ref_no_spk_mel_style_adaptor",
                    "with mel-style adaptor (clean-360),tts_ref_no_spk_mel_style_adaptor_trainClean360",
                    "with mel-style adaptor on dm (clean-100),tts_ref_mel_style_adaptor_on_dm",
                ] 

function table(ref_voice, methods) {
    text = " \
<table style=\'width:100%\'> \
<tr><th>Reference Voice</th><th>Speaker</th> \
<th>Method</th><th>Text to Speech</th><th>Mean Opinion Score (MOS)</th>  </tr>"
    
    for (const r in ref_voice)  {
        
        ref = ref_voice[r].split(',')[0]
        speaker = ref_voice[r].split(',')[1]
        
        text += " <tr><td><audio controls=\"controls\"><source type=\"audio/wav\" src=\"misc/references/" + ref + ".wav\"></source></audio></td>"
        text += "<td>" + speaker + "</td>"
        i = 0
        for (const m in methods){
            method_name = methods[m].split(',')[0]
            method = methods[m].split(',')[1]
            if (i != 0) {
                text += "<tr><td></td><td></td>"
            }
            text += "\
            <td>" + method_name+ "</td>\
            <td><audio controls=\"controls\"><source type=\"audio/wav\" src=\"misc/" + method + "/" + ref + ".wav\"></source></audio></td>\
            <td>\
                <select id=\"MOS select\">\
                    <option value=\"1\">1 - Bad</option>\
                    <option value=\"2\">2 - Poor</option>\
                    <option value=\"3\">3 - Fair</option>\
                    <option value=\"4\">4 - Good</option>\
                    <option value=\"5\">5 - Excellent</option>\
                </select>\
            </td>\
            </tr>\
            "
            i += 1
        }
        
    } 
    

    text += "</table><hr style=\"opacity: 0.25\">"
    return text
}

x.innerHTML = table(ref_voice, methods)

</script>

</body>
</html>
